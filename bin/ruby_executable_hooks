#!/usr/bin/env ruby

Process.setproctitle("ruby #{ARGV*" "}") if Process.methods.include?(:setproctitle)
original_file=ARGV.shift

require 'rubygems'
begin
  require 'executable-hooks/hooks'
  Gem::ExecutableHooks.run(original_file)
rescue LoadError
  warn "unable to load executable-hooks/hooks" if ENV.key?('ExecutableHooks_DEBUG')
end

eval File.read(original_file), binding, original_file
